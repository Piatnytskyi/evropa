[gd_scene load_steps=15 format=3 uid="uid://b3ea5xxc1ntjw"]

[ext_resource type="Texture2D" uid="uid://dos7edn4w5tfy" path="res://models/misc/UV.png" id="1_vbqfu"]
[ext_resource type="PackedScene" uid="uid://r0tnb01aenpc" path="res://models/misc/wine.blend" id="2_ihr4d"]
[ext_resource type="Script" uid="uid://chgqwiof5hndx" path="res://scripts/player.gd" id="3_41wxh"]
[ext_resource type="Texture2D" uid="uid://dwwog8rurev0j" path="res://models/misc/Wine.png" id="4_fwxm1"]

[sub_resource type="PlaneMesh" id="PlaneMesh_7uoir"]
lightmap_size_hint = Vector2i(52, 52)
size = Vector2(10, 10)
subdivide_width = 5
subdivide_depth = 5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_v7q7i"]
shading_mode = 2
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("1_vbqfu")
uv1_scale = Vector3(5, 5, 5)
distance_fade_max_distance = 3.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ox2uh"]
points = PackedVector3Array(-5, 0, -5, -5, 0, 5, 5, 0, -5, 5, 0, 5)

[sub_resource type="BoxMesh" id="BoxMesh_6bu47"]
lightmap_size_hint = Vector2i(14, 21)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_3sn83"]
shading_mode = 2
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("1_vbqfu")
uv1_scale = Vector3(2, 2, 2)
texture_filter = 0
distance_fade_max_distance = 3.0

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_1oh6p"]
points = PackedVector3Array(0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xmorp"]

[sub_resource type="Environment" id="Environment_io6ul"]
ambient_light_source = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_uxwrp"]
shading_mode = 2
albedo_texture = ExtResource("4_fwxm1")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2lq3m"]
albedo_texture = ExtResource("4_fwxm1")

[node name="World" type="Node3D"]

[node name="Map" type="Node3D" parent="."]

[node name="Platform" type="StaticBody3D" parent="Map"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Platform"]
mesh = SubResource("PlaneMesh_7uoir")
skeleton = NodePath("../..")
surface_material_override/0 = SubResource("StandardMaterial3D_v7q7i")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Platform"]
shape = SubResource("ConvexPolygonShape3D_ox2uh")

[node name="Table" type="StaticBody3D" parent="Map"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 3)
gi_mode = 2
mesh = SubResource("BoxMesh_6bu47")
surface_material_override/0 = SubResource("StandardMaterial3D_3sn83")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Map/Table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, 3)
shape = SubResource("ConvexPolygonShape3D_1oh6p")

[node name="Wine" type="StaticBody3D" parent="Map"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Map/Wine"]
skeleton = NodePath("../..")

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.52968)
script = ExtResource("3_41wxh")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_xmorp")

[node name="Head" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, 0)

[node name="Camera3D" type="Camera3D" parent="Player/Head"]

[node name="SpotLight3D" type="SpotLight3D" parent="Player/Head"]
transform = Transform3D(1, 0, 0, 0, 0.999965, -0.00835993, 0, 0.00835993, 0.999965, -0.272305, -0.0991216, 0)
distance_fade_begin = 10.0
distance_fade_length = 5.0
spot_range = 6.0
spot_angle = 45.4656

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_io6ul")

[node name="Wine" parent="." instance=ExtResource("2_ihr4d")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1.3, -1)

[node name="Wine" parent="Wine" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.71437, 0, 3.6567)
material_override = SubResource("StandardMaterial3D_uxwrp")

[node name="Wine2" parent="." instance=ExtResource("2_ihr4d")]
transform = Transform3D(0.0836083, 0, -0.996499, 0, 1, 0, 0.996499, 0, 0.0836083, 0.036, 1.3, 3.051)

[node name="Wine" parent="Wine2" index="0"]
material_override = SubResource("StandardMaterial3D_2lq3m")

[editable path="Wine"]
[editable path="Wine2"]
